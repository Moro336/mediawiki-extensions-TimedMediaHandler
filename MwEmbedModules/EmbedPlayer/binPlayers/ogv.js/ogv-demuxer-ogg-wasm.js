
var OGVDemuxerOggW = (function() {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  return (
function(OGVDemuxerOggW) {
  OGVDemuxerOggW = OGVDemuxerOggW || {};

var a;a||(a=typeof OGVDemuxerOggW !== 'undefined' ? OGVDemuxerOggW : {});var aa=a;a.memoryLimit&&(a.TOTAL_MEMORY=aa.memoryLimit);var h={},n;for(n in a)a.hasOwnProperty(n)&&(h[n]=a[n]);a.arguments=[];a.thisProgram="./this.program";a.quit=function(b,c){throw c;};a.preRun=[];a.postRun=[];var p=!1,q=!1,r=!1,ba=!1;p="object"===typeof window;q="function"===typeof importScripts;r="object"===typeof process&&"function"===typeof require&&!p&&!q;ba=!p&&!r&&!q;var t="";
function u(b){return a.locateFile?a.locateFile(b,t):t+b}
if(r){t=__dirname+"/";var v,w;a.read=function(b,c){v||(v=require("fs"));w||(w=require("path"));b=w.normalize(b);b=v.readFileSync(b);return c?b:b.toString()};a.readBinary=function(b){b=a.read(b,!0);b.buffer||(b=new Uint8Array(b));assert(b.buffer);return b};1<process.argv.length&&(a.thisProgram=process.argv[1].replace(/\\/g,"/"));a.arguments=process.argv.slice(2);process.on("unhandledRejection",function(){process.exit(1)});a.quit=function(b){process.exit(b)};a.inspect=function(){return"[Emscripten Module object]"}}else if(ba)"undefined"!=
typeof read&&(a.read=function(b){return read(b)}),a.readBinary=function(b){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(b));b=read(b,"binary");assert("object"===typeof b);return b},"undefined"!=typeof scriptArgs?a.arguments=scriptArgs:"undefined"!=typeof arguments&&(a.arguments=arguments),"function"===typeof quit&&(a.quit=function(b){quit(b)});else if(p||q)p?document.currentScript&&(t=document.currentScript.src):t=self.location.href,_scriptDir&&(t=_scriptDir),t=0!==t.indexOf("blob:")?
t.split("/").slice(0,-1).join("/")+"/":"",a.read=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.send(null);return c.responseText},q&&(a.readBinary=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.responseType="arraybuffer";c.send(null);return new Uint8Array(c.response)}),a.readAsync=function(b,c,d){var e=new XMLHttpRequest;e.open("GET",b,!0);e.responseType="arraybuffer";e.onload=function(){200==e.status||0==e.status&&e.response?c(e.response):d()};e.onerror=d;e.send(null)},a.setWindowTitle=
function(b){document.title=b};var y=a.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),z=a.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||y);for(n in h)h.hasOwnProperty(n)&&(a[n]=h[n]);h=void 0;function ca(b){var c;c||(c=16);return Math.ceil(b/c)*c}var da={"f64-rem":function(b,c){return b%c},"debugger":function(){debugger}},ea=0;function assert(b,c){b||A("Assertion failed: "+c)}
var fa="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function B(b,c){0<b%c&&(b+=c-b%c);return b}var buffer,C,D,E;function F(){a.HEAP8=C=new Int8Array(buffer);a.HEAP16=new Int16Array(buffer);a.HEAP32=E=new Int32Array(buffer);a.HEAPU8=D=new Uint8Array(buffer);a.HEAPU16=new Uint16Array(buffer);a.HEAPU32=new Uint32Array(buffer);a.HEAPF32=new Float32Array(buffer);a.HEAPF64=new Float64Array(buffer)}var G,H,I,J,K,M,N;
G=H=I=J=K=M=N=0;a.reallocBuffer||(a.reallocBuffer=function(b){try{if(ArrayBuffer.m)var c=ArrayBuffer.m(buffer,b);else{var d=C;c=new ArrayBuffer(b);(new Int8Array(c)).set(d)}}catch(e){return!1}return ha(c)?c:!1});var O;try{O=Function.prototype.call.bind(Object.getOwnPropertyDescriptor(ArrayBuffer.prototype,"byteLength").get),O(new ArrayBuffer(4))}catch(b){O=function(c){return c.byteLength}}var P=a.TOTAL_STACK||5242880,Q=a.TOTAL_MEMORY||16777216;
Q<P&&z("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+Q+"! (TOTAL_STACK="+P+")");a.buffer?buffer=a.buffer:("object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(a.wasmMemory=new WebAssembly.Memory({initial:Q/65536}),buffer=a.wasmMemory.buffer):buffer=new ArrayBuffer(Q),a.buffer=buffer);F();
function R(b){for(;0<b.length;){var c=b.shift();if("function"==typeof c)c();else{var d=c.o;"number"===typeof d?void 0===c.b?a.dynCall_v(d):a.dynCall_vi(d,c.b):d(void 0===c.b?null:c.b)}}}var ia=[],ja=[],ka=[],la=[],ma=!1;function na(){var b=a.preRun.shift();ia.unshift(b)}var S=0,oa=null,T=null;a.preloadedImages={};a.preloadedAudios={};function U(b){return String.prototype.startsWith?b.startsWith("data:application/octet-stream;base64,"):0===b.indexOf("data:application/octet-stream;base64,")}
(function(){function b(){try{if(a.wasmBinary)return new Uint8Array(a.wasmBinary);if(a.readBinary)return a.readBinary(f);throw"both async and sync fetching of the wasm failed";}catch(L){A(L)}}function c(){return a.wasmBinary||!p&&!q||"function"!==typeof fetch?new Promise(function(c){c(b())}):fetch(f,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw"failed to load wasm binary file at '"+f+"'";return b.arrayBuffer()}).catch(function(){return b()})}function d(b){function d(b){m=b.exports;if(m.memory){b=
m.memory;var c=a.buffer;b.byteLength<c.byteLength&&z("the new buffer in mergeMemory is smaller than the previous one. in native wasm, we should grow memory here");c=new Int8Array(c);(new Int8Array(b)).set(c);a.buffer=buffer=b;F()}a.asm=m;a.usingWasm=!0;S--;a.monitorRunDependencies&&a.monitorRunDependencies(S);0==S&&(null!==oa&&(clearInterval(oa),oa=null),T&&(b=T,T=null,b()))}function e(b){d(b.instance)}function L(b){c().then(function(b){return WebAssembly.instantiate(b,k)}).then(b).catch(function(b){z("failed to asynchronously prepare wasm: "+
b);A(b)})}if("object"!==typeof WebAssembly)return z("no native wasm support detected"),!1;if(!(a.wasmMemory instanceof WebAssembly.Memory))return z("no native wasm Memory in use"),!1;b.memory=a.wasmMemory;k.global={NaN:NaN,Infinity:Infinity};k["global.Math"]=Math;k.env=b;S++;a.monitorRunDependencies&&a.monitorRunDependencies(S);if(a.instantiateWasm)try{return a.instantiateWasm(k,d)}catch(ua){return z("Module.instantiateWasm callback failed with error: "+ua),!1}a.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||
U(f)||"function"!==typeof fetch?L(e):WebAssembly.instantiateStreaming(fetch(f,{credentials:"same-origin"}),k).then(e).catch(function(b){z("wasm streaming compile failed: "+b);z("falling back to ArrayBuffer instantiation");L(e)});return{}}var e="ogv-demuxer-ogg-wasm.wast",f="ogv-demuxer-ogg-wasm.wasm",l="ogv-demuxer-ogg-wasm.temp.asm.js";U(e)||(e=u(e));U(f)||(f=u(f));U(l)||(l=u(l));var k={global:null,env:null,asm2wasm:da,parent:a},m=null;a.asmPreload=a.asm;var x=a.reallocBuffer;a.reallocBuffer=function(b){if("asmjs"===
va)var c=x(b);else a:{b=B(b,a.usingWasm?65536:16777216);var d=a.buffer.byteLength;if(a.usingWasm)try{c=-1!==a.wasmMemory.grow((b-d)/65536)?a.buffer=a.wasmMemory.buffer:null;break a}catch(ya){c=null;break a}c=void 0}return c};var va="";a.asm=function(b,c){if(!c.table){b=a.wasmTableSize;void 0===b&&(b=1024);var e=a.wasmMaxTableSize;c.table="object"===typeof WebAssembly&&"function"===typeof WebAssembly.Table?void 0!==e?new WebAssembly.Table({initial:b,maximum:e,element:"anyfunc"}):new WebAssembly.Table({initial:b,
element:"anyfunc"}):Array(b);a.wasmTable=c.table}c.memoryBase||(c.memoryBase=a.STATIC_BASE);c.tableBase||(c.tableBase=0);c=d(c);assert(c,"no binaryen method succeeded.");return c}})();G=1024;H=G+5584;ja.push();a.STATIC_BASE=G;a.STATIC_BUMP=5584;H+=16;var V=0;function W(){V+=4;return E[V-4>>2]}var pa={};
function X(b,c){V=c;try{var d=W(),e=W(),f=W();b=0;X.f||(X.f=[null,[],[]],X.j=function(b,c){var d=X.f[b];assert(d);if(0===c||10===c){b=1===b?y:z;a:{for(var e=c=0;d[e];)++e;if(16<e-c&&d.subarray&&fa)c=fa.decode(d.subarray(c,e));else for(e="";;){var g=d[c++];if(!g){c=e;break a}if(g&128){var f=d[c++]&63;if(192==(g&224))e+=String.fromCharCode((g&31)<<6|f);else{var l=d[c++]&63;if(224==(g&240))g=(g&15)<<12|f<<6|l;else{var k=d[c++]&63;if(240==(g&248))g=(g&7)<<18|f<<12|l<<6|k;else{var m=d[c++]&63;if(248==
(g&252))g=(g&3)<<24|f<<18|l<<12|k<<6|m;else{var x=d[c++]&63;g=(g&1)<<30|f<<24|l<<18|k<<12|m<<6|x}}}65536>g?e+=String.fromCharCode(g):(g-=65536,e+=String.fromCharCode(55296|g>>10,56320|g&1023))}}else e+=String.fromCharCode(g)}}b(c);d.length=0}else d.push(c)});for(c=0;c<f;c++){for(var l=E[e+8*c>>2],k=E[e+(8*c+4)>>2],m=0;m<k;m++)X.j(d,D[l+m]);b+=k}return b}catch(x){return"undefined"!==typeof FS&&x instanceof FS.a||A(x),-x.c}}var qa=H;H=H+4+15&-16;N=qa;I=J=ca(H);K=I+P;M=ca(K);E[N>>2]=M;
a.wasmTableSize=66;a.wasmMaxTableSize=66;a.h={};
a.i={abort:A,enlargeMemory:function(){var b=a.usingWasm?65536:16777216,c=2147483648-b;if(E[N>>2]>c)return!1;var d=Q;for(Q=Math.max(Q,16777216);Q<E[N>>2];)536870912>=Q?Q=B(2*Q,b):Q=Math.min(B((3*Q+2147483648)/4,b),c);b=a.reallocBuffer(Q);if(!b||b.byteLength!=Q)return Q=d,!1;a.buffer=buffer=b;F();return!0},getTotalMemory:function(){return Q},abortOnCannotGrowMemory:function(){A("Cannot enlarge memory arrays. Either (1) compile with  -s TOTAL_MEMORY=X  with X higher than the current value "+Q+", (2) compile with  -s ALLOW_MEMORY_GROWTH=1  which allows increasing the size at runtime, or (3) if you want malloc to return NULL (0) instead of this abort, compile with  -s ABORTING_MALLOC=0 ")},
___lock:function(){},___setErrNo:function(b){a.___errno_location&&(E[a.___errno_location()>>2]=b);return b},___syscall140:function(b,c){V=c;try{var d=pa.g();W();var e=W(),f=W(),l=W();FS.s(d,e,l);E[f>>2]=d.position;d.l&&0===e&&0===l&&(d.l=null);return 0}catch(k){return"undefined"!==typeof FS&&k instanceof FS.a||A(k),-k.c}},___syscall146:X,___syscall3:function(b,c){V=c;try{var d=pa.g(),e=W(),f=W();return FS.read(d,C,e,f)}catch(l){return"undefined"!==typeof FS&&l instanceof FS.a||A(l),-l.c}},___syscall54:function(b,
c){V=c;return 0},___syscall6:function(b,c){V=c;try{var d=pa.g();FS.close(d);return 0}catch(e){return"undefined"!==typeof FS&&e instanceof FS.a||A(e),-e.c}},___unlock:function(){},_emscripten_memcpy_big:function(b,c,d){D.set(D.subarray(c,c+d),b);return b},_ogvjs_callback_audio_packet:function(b,c,d){a.audioPackets.push({data:a.HEAPU8.buffer.slice?a.HEAPU8.buffer.slice(b,b+c):(new Uint8Array(new Uint8Array(a.HEAPU8.buffer,b,c))).buffer,timestamp:d})},_ogvjs_callback_loaded_metadata:function(b,c){function d(b){for(var c=
"",d=a.HEAPU8;0!=d[b];b++)c+=String.fromCharCode(d[b]);return c}b&&(a.videoCodec=d(b));c&&(a.audioCodec=d(c));b=a._ogv_demuxer_media_duration();a.duration=0<=b?b:NaN;a.loadedMetadata=!0},_ogvjs_callback_video_packet:function(b,c,d,e,f){a.videoPackets.push({data:a.HEAPU8.buffer.slice?a.HEAPU8.buffer.slice(b,b+c):(new Uint8Array(new Uint8Array(a.HEAPU8.buffer,b,c))).buffer,timestamp:d,keyframeTimestamp:e,isKeyframe:!!f})},DYNAMICTOP_PTR:N,STACKTOP:J};var ra=a.asm(a.h,a.i,buffer);a.asm=ra;
var ha=a._emscripten_replace_memory=function(){return a.asm._emscripten_replace_memory.apply(null,arguments)};a._free=function(){return a.asm._free.apply(null,arguments)};a._malloc=function(){return a.asm._malloc.apply(null,arguments)};a._ogv_demuxer_destroy=function(){return a.asm._ogv_demuxer_destroy.apply(null,arguments)};a._ogv_demuxer_flush=function(){return a.asm._ogv_demuxer_flush.apply(null,arguments)};a._ogv_demuxer_init=function(){return a.asm._ogv_demuxer_init.apply(null,arguments)};
a._ogv_demuxer_keypoint_offset=function(){return a.asm._ogv_demuxer_keypoint_offset.apply(null,arguments)};a._ogv_demuxer_media_duration=function(){return a.asm._ogv_demuxer_media_duration.apply(null,arguments)};a._ogv_demuxer_media_length=function(){return a.asm._ogv_demuxer_media_length.apply(null,arguments)};a._ogv_demuxer_process=function(){return a.asm._ogv_demuxer_process.apply(null,arguments)};a._ogv_demuxer_receive_input=function(){return a.asm._ogv_demuxer_receive_input.apply(null,arguments)};
a._ogv_demuxer_seek_to_keypoint=function(){return a.asm._ogv_demuxer_seek_to_keypoint.apply(null,arguments)};a._ogv_demuxer_seekable=function(){return a.asm._ogv_demuxer_seekable.apply(null,arguments)};a.dynCall_vi=function(){return a.asm.dynCall_vi.apply(null,arguments)};a.asm=ra;a.then=function(b){if(a.calledRun)b(a);else{var c=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){c&&c();b(a)}}return a};T=function sa(){a.calledRun||ta();a.calledRun||(T=sa)};
function ta(){function b(){if(!a.calledRun&&(a.calledRun=!0,!ea)){ma||(ma=!0,R(ja));R(ka);if(a.onRuntimeInitialized)a.onRuntimeInitialized();if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var b=a.postRun.shift();la.unshift(b)}R(la)}}if(!(0<S)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)na();R(ia);0<S||a.calledRun||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},
1);b()},1)):b())}}a.run=ta;function A(b){if(a.onAbort)a.onAbort(b);void 0!==b?(y(b),z(b),b=JSON.stringify(b)):b="";ea=!0;throw"abort("+b+"). Build with -s ASSERTIONS=1 for more info.";}a.abort=A;if(a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();a.noExitRuntime=!0;ta();var Y,wa,xa;xa="undefined"===typeof performance||"undefined"===typeof performance.now?Date.now:performance.now.bind(performance);
function Z(b){var c=xa();b=b();c=xa()-c;a.cpuTime+=c;return b}a.loadedMetadata=!1;a.videoCodec=null;a.audioCodec=null;a.duration=NaN;a.onseek=null;a.cpuTime=0;a.audioPackets=[];Object.defineProperty(a,"hasAudio",{get:function(){return a.loadedMetadata&&a.audioCodec}});Object.defineProperty(a,"audioReady",{get:function(){return 0<a.audioPackets.length}});Object.defineProperty(a,"audioTimestamp",{get:function(){return 0<a.audioPackets.length?a.audioPackets[0].timestamp:-1}});a.videoPackets=[];
Object.defineProperty(a,"hasVideo",{get:function(){return a.loadedMetadata&&a.videoCodec}});Object.defineProperty(a,"frameReady",{get:function(){return 0<a.videoPackets.length}});Object.defineProperty(a,"frameTimestamp",{get:function(){return 0<a.videoPackets.length?a.videoPackets[0].timestamp:-1}});Object.defineProperty(a,"keyframeTimestamp",{get:function(){return 0<a.videoPackets.length?a.videoPackets[0].keyframeTimestamp:-1}});
Object.defineProperty(a,"nextKeyframeTimestamp",{get:function(){for(var b=0;b<a.videoPackets.length;b++){var c=a.videoPackets[b];if(c.isKeyframe)return c.timestamp}return-1}});Object.defineProperty(a,"processing",{get:function(){return!1}});Object.defineProperty(a,"seekable",{get:function(){return!!a._ogv_demuxer_seekable()}});a.init=function(b){Z(function(){a._ogv_demuxer_init()});b()};
a.receiveInput=function(b,c){Z(function(){var c=b.byteLength;Y&&wa>=c||(Y&&a._free(Y),wa=c,Y=a._malloc(wa));var e=Y;a.HEAPU8.set(new Uint8Array(b),e);a._ogv_demuxer_receive_input(e,c)});c()};a.process=function(b){var c=Z(function(){return a._ogv_demuxer_process()});b(!!c)};a.dequeueVideoPacket=function(b){if(a.videoPackets.length){var c=a.videoPackets.shift().data;b(c)}else b(null)};a.dequeueAudioPacket=function(b){if(a.audioPackets.length){var c=a.audioPackets.shift().data;b(c)}else b(null)};
a.getKeypointOffset=function(b,c){var d=Z(function(){return a._ogv_demuxer_keypoint_offset(1E3*b)});c(d)};a.seekToKeypoint=function(b,c){var d=Z(function(){return a._ogv_demuxer_seek_to_keypoint(1E3*b)});d&&(a.audioPackets.splice(0,a.audioPackets.length),a.videoPackets.splice(0,a.videoPackets.length));c(!!d)};a.flush=function(b){Z(function(){a.audioPackets.splice(0,a.audioPackets.length);a.videoPackets.splice(0,a.videoPackets.length);a._ogv_demuxer_flush()});b()};a.close=function(){};


  return OGVDemuxerOggW;
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
    module.exports = OGVDemuxerOggW;
  else if (typeof define === 'function' && define['amd'])
    define([], function() { return OGVDemuxerOggW; });
  else if (typeof exports === 'object')
    exports["OGVDemuxerOggW"] = OGVDemuxerOggW;
  