
var OGVDecoderVideoTheoraW = (function() {
  var _scriptDir = typeof document !== 'undefined' && document.currentScript ? document.currentScript.src : undefined;
  return (
function(OGVDecoderVideoTheoraW) {
  OGVDecoderVideoTheoraW = OGVDecoderVideoTheoraW || {};

var a;a||(a=typeof OGVDecoderVideoTheoraW !== 'undefined' ? OGVDecoderVideoTheoraW : {});var m=a;a.memoryLimit&&(a.TOTAL_MEMORY=m.memoryLimit);var n={},p;for(p in a)a.hasOwnProperty(p)&&(n[p]=a[p]);a.arguments=[];a.thisProgram="./this.program";a.quit=function(b,c){throw c;};a.preRun=[];a.postRun=[];var t=!1,u=!1,v=!1,w=!1;t="object"===typeof window;u="function"===typeof importScripts;v="object"===typeof process&&"function"===typeof require&&!t&&!u;w=!t&&!v&&!u;var x="";
if(v){x=__dirname+"/";var z,A;a.read=function(b,c){z||(z=require("fs"));A||(A=require("path"));b=A.normalize(b);b=z.readFileSync(b);return c?b:b.toString()};a.readBinary=function(b){b=a.read(b,!0);b.buffer||(b=new Uint8Array(b));b.buffer||B("Assertion failed: undefined");return b};1<process.argv.length&&(a.thisProgram=process.argv[1].replace(/\\/g,"/"));a.arguments=process.argv.slice(2);process.on("unhandledRejection",B);a.quit=function(b){process.exit(b)};a.inspect=function(){return"[Emscripten Module object]"}}else if(w)"undefined"!=
typeof read&&(a.read=function(b){return read(b)}),a.readBinary=function(b){if("function"===typeof readbuffer)return new Uint8Array(readbuffer(b));b=read(b,"binary");"object"===typeof b||B("Assertion failed: undefined");return b},"undefined"!=typeof scriptArgs?a.arguments=scriptArgs:"undefined"!=typeof arguments&&(a.arguments=arguments),"function"===typeof quit&&(a.quit=function(b){quit(b)});else if(t||u)u?x=self.location.href:document.currentScript&&(x=document.currentScript.src),_scriptDir&&(x=_scriptDir),
0!==x.indexOf("blob:")?x=x.substr(0,x.lastIndexOf("/")+1):x="",a.read=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.send(null);return c.responseText},u&&(a.readBinary=function(b){var c=new XMLHttpRequest;c.open("GET",b,!1);c.responseType="arraybuffer";c.send(null);return new Uint8Array(c.response)}),a.readAsync=function(b,c,d){var e=new XMLHttpRequest;e.open("GET",b,!0);e.responseType="arraybuffer";e.onload=function(){200==e.status||0==e.status&&e.response?c(e.response):d()};e.onerror=
d;e.send(null)},a.setWindowTitle=function(b){document.title=b};var C=a.print||("undefined"!==typeof console?console.log.bind(console):"undefined"!==typeof print?print:null),E=a.printErr||("undefined"!==typeof printErr?printErr:"undefined"!==typeof console&&console.warn.bind(console)||C);for(p in n)n.hasOwnProperty(p)&&(a[p]=n[p]);n=void 0;var aa={"f64-rem":function(b,c){return b%c},"debugger":function(){debugger}};"object"!==typeof WebAssembly&&E("no native wasm support detected");var F,ba=!1;
"undefined"!==typeof TextDecoder&&new TextDecoder("utf8");"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");function I(b){0<b%65536&&(b+=65536-b%65536);return b}var buffer,J,K,ca;function da(){a.HEAP8=new Int8Array(buffer);a.HEAP16=new Int16Array(buffer);a.HEAP32=K=new Int32Array(buffer);a.HEAPU8=J=new Uint8Array(buffer);a.HEAPU16=new Uint16Array(buffer);a.HEAPU32=ca=new Uint32Array(buffer);a.HEAPF32=new Float32Array(buffer);a.HEAPF64=new Float64Array(buffer)}var L=a.TOTAL_MEMORY||16777216;
5242880>L&&E("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+L+"! (TOTAL_STACK=5242880)");a.buffer?buffer=a.buffer:("object"===typeof WebAssembly&&"function"===typeof WebAssembly.Memory?(F=new WebAssembly.Memory({initial:L/65536}),buffer=F.buffer):buffer=new ArrayBuffer(L),a.buffer=buffer);da();K[1104]=5247552;
function M(b){for(;0<b.length;){var c=b.shift();if("function"==typeof c)c();else{var d=c.A;"number"===typeof d?void 0===c.s?a.dynCall_v(d):a.dynCall_vi(d,c.s):d(void 0===c.s?null:c.s)}}}var ea=[],fa=[],ha=[],ia=[],ja=!1;function qa(){var b=a.preRun.shift();ea.unshift(b)}var N=0,O=null,P=null;a.preloadedImages={};a.preloadedAudios={};
function ra(){var b=Q;return String.prototype.startsWith?b.startsWith("data:application/octet-stream;base64,"):0===b.indexOf("data:application/octet-stream;base64,")}var Q="ogv-decoder-video-theora-wasm.wasm";if(!ra()){var sa=Q;Q=a.locateFile?a.locateFile(sa,x):x+sa}function ta(){try{if(a.wasmBinary)return new Uint8Array(a.wasmBinary);if(a.readBinary)return a.readBinary(Q);throw"both async and sync fetching of the wasm failed";}catch(b){B(b)}}
function ua(){return a.wasmBinary||!t&&!u||"function"!==typeof fetch?new Promise(function(b){b(ta())}):fetch(Q,{credentials:"same-origin"}).then(function(b){if(!b.ok)throw"failed to load wasm binary file at '"+Q+"'";return b.arrayBuffer()}).catch(function(){return ta()})}
function va(b){function c(b){a.asm=b.exports;N--;a.monitorRunDependencies&&a.monitorRunDependencies(N);0==N&&(null!==O&&(clearInterval(O),O=null),P&&(b=P,P=null,b()))}function d(b){c(b.instance)}function e(b){ua().then(function(b){return WebAssembly.instantiate(b,f)}).then(b,function(b){E("failed to asynchronously prepare wasm: "+b);B(b)})}var f={env:b,global:{NaN:NaN,Infinity:Infinity},"global.Math":Math,asm2wasm:aa};N++;a.monitorRunDependencies&&a.monitorRunDependencies(N);if(a.instantiateWasm)try{return a.instantiateWasm(f,
c)}catch(k){return E("Module.instantiateWasm callback failed with error: "+k),!1}a.wasmBinary||"function"!==typeof WebAssembly.instantiateStreaming||ra()||"function"!==typeof fetch?e(d):WebAssembly.instantiateStreaming(fetch(Q,{credentials:"same-origin"}),f).then(d,function(b){E("wasm streaming compile failed: "+b);E("falling back to ArrayBuffer instantiation");e(d)});return{}}
a.asm=function(b,c){c.memory=F;c.table=new WebAssembly.Table({initial:16,maximum:16,element:"anyfunc"});c.__memory_base=1024;c.__table_base=0;return va(c)};
var wa=a.asm({},{c:B,b:function(b){a.___errno_location&&(K[a.___errno_location()>>2]=b);return b},i:function(){return L},h:function(b,c,d){J.set(J.subarray(c,c+d),b)},g:function(b){if(2147418112<b)return!1;for(var c=Math.max(L,16777216);c<b;)536870912>=c?c=I(2*c):c=Math.min(I((3*c+2147483648)/4),2147418112);var d=I(c);var e=a.buffer.byteLength;try{var f=-1!==F.grow((d-e)/65536)?a.buffer=F.buffer:null}catch(k){f=null}if(!f||f.byteLength!=c)return!1;a.buffer=buffer=f;da();L=c;ca[1104]=b;return!0},f:function(b,
c,d,e,f,k,l,q,D,h,y,G,R,S,ka,la){function T(b,c,e,d,f,k,q,l){b=xa.subarray(b,b+c*e);var g=b.buffer;"function"===typeof g.slice?(b=g.slice(b.byteOffset,b.byteOffset+b.byteLength),b=new Uint8Array(b)):b=new Uint8Array(b);var h,r;for(h=r=0;h<f;h++,r+=c)for(g=0;g<c;g++)b[r+g]=l;for(;h<f+q;h++,r+=c){for(g=0;g<d;g++)b[r+g]=l;for(g=d+k;g<c;g++)b[r+g]=l}for(;h<e;h++,r+=c)for(g=0;g<c;g++)b[r+g]=l;return b}var xa=a.HEAPU8,H=a.videoFormat,ma=(R&-2)*D/l,na=(S&-2)*h/q,oa=y*D/l,pa=G*h/q;y===H.cropWidth&&G===H.cropHeight&&
(ka=H.displayWidth,la=H.displayHeight);a.frameBuffer={format:{width:l,height:q,chromaWidth:D,chromaHeight:h,cropLeft:R,cropTop:S,cropWidth:y,cropHeight:G,displayWidth:ka,displayHeight:la},y:{bytes:T(b,c,q,R,S,y,G,0),stride:c},u:{bytes:T(d,e,h,ma,na,oa,pa,128),stride:e},v:{bytes:T(f,k,h,ma,na,oa,pa,128),stride:k}}},e:function(b,c,d,e,f,k,l,q,D,h,y){a.videoFormat={width:b,height:c,chromaWidth:d,chromaHeight:e,cropLeft:q,cropTop:D,cropWidth:k,cropHeight:l,displayWidth:h,displayHeight:y,fps:f};a.loadedMetadata=
!0},d:function(){B("OOM")},a:4416},buffer);a.asm=wa;a._free=function(){return a.asm.j.apply(null,arguments)};a._malloc=function(){return a.asm.k.apply(null,arguments)};a._ogv_video_decoder_async=function(){return a.asm.l.apply(null,arguments)};a._ogv_video_decoder_destroy=function(){return a.asm.m.apply(null,arguments)};a._ogv_video_decoder_init=function(){return a.asm.n.apply(null,arguments)};a._ogv_video_decoder_process_frame=function(){return a.asm.o.apply(null,arguments)};
a._ogv_video_decoder_process_header=function(){return a.asm.p.apply(null,arguments)};a.asm=wa;a.then=function(b){if(a.calledRun)b(a);else{var c=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){c&&c();b(a)}}return a};function U(b){this.name="ExitStatus";this.message="Program terminated with exit("+b+")";this.status=b}U.prototype=Error();U.prototype.constructor=U;P=function ya(){a.calledRun||V();a.calledRun||(P=ya)};
function V(){function b(){if(!a.calledRun&&(a.calledRun=!0,!ba)){ja||(ja=!0,M(fa));M(ha);if(a.onRuntimeInitialized)a.onRuntimeInitialized();if(a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var b=a.postRun.shift();ia.unshift(b)}M(ia)}}if(!(0<N)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)qa();M(ea);0<N||a.calledRun||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1);
b()},1)):b())}}a.run=V;function B(b){if(a.onAbort)a.onAbort(b);void 0!==b?(C(b),E(b),b=JSON.stringify(b)):b="";ba=!0;throw"abort("+b+"). Build with -s ASSERTIONS=1 for more info.";}a.abort=B;if(a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();a.noExitRuntime=!0;V();var W,X,Y;Y="undefined"===typeof performance||"undefined"===typeof performance.now?Date.now:performance.now.bind(performance);
function Z(b){var c=Y();b=b();a.cpuTime+=Y()-c;return b}a.loadedMetadata=!!m.videoFormat;a.videoFormat=m.videoFormat||null;a.frameBuffer=null;a.cpuTime=0;Object.defineProperty(a,"processing",{get:function(){return!1}});a.init=function(b){Z(function(){a._ogv_video_decoder_init()});b()};a.processHeader=function(b,c){var d=Z(function(){var c=b.byteLength;W&&X>=c||(W&&a._free(W),X=c,W=a._malloc(X));var d=W;a.HEAPU8.set(new Uint8Array(b),d);return a._ogv_video_decoder_process_header(d,c)});c(d)};a.w=[];
a.processFrame=function(b,c){function d(b){a._free(k);c(b)}var e=a._ogv_video_decoder_async(),f=b.byteLength,k=a._malloc(f);e&&a.w.push(d);var l=Z(function(){a.HEAPU8.set(new Uint8Array(b),k);return a._ogv_video_decoder_process_frame(k,f)});e||d(l)};a.close=function(){};a.sync=function(){a._ogv_video_decoder_async()&&(a.w.push(function(){}),Z(function(){a._ogv_video_decoder_process_frame(0,0)}))};


  return OGVDecoderVideoTheoraW
}
);
})();
if (typeof exports === 'object' && typeof module === 'object')
      module.exports = OGVDecoderVideoTheoraW;
    else if (typeof define === 'function' && define['amd'])
      define([], function() { return OGVDecoderVideoTheoraW; });
    else if (typeof exports === 'object')
      exports["OGVDecoderVideoTheoraW"] = OGVDecoderVideoTheoraW;
    